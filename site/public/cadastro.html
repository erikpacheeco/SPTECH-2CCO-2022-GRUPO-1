<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PetFinder</title>
    <script src="https://kit.fontawesome.com/78a753ef37.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="./css/cadastro.css" />
</head>

<body onload="novoVisitante()">
     <!-- navbar -->
     <div class="navbar">
        <div class="navbar-container">
            <a class="navbar-container-logo" href="./index.html" class="link">
                <img class="logo" src="./svg/Img_Logo.svg" alt="" />
                <span class="navbar-logo-nome">
                    <span class="logo-nome-verde">Pet</span>Finder
                </span>
            </a>

            <div class="navbar-container-itens">
                <a class="nav-item" href="./index.html">Home</a>
                <a class="nav-item" href="http://petfinder.sytes.net:3000/">Login</a>
                <a class="nav-item" href="./cadastro.html">
                    <div class="bg-yellow">Cadastro</div>
                </a>
            </div>
        </div>
    </div>
    <!-- fim navbar -->
    
    <!-- <div class="session-content"> -->
        <div class="container-session-content">
            
            <div class="box-img">
                <img src="./img/image cadastro.png" alt="">
            </div>
            <div class="box-cadastro">
                <div class="box-cadastro-texto">
                    <h1>
                        Cadastre-se no nosso site
                    </h1>
                    <span>
                        Para visualizar mais do nosso site, faça o cadastro!
                    </span>
                    <span>
                        Escolha uma das opções e veja um site personalizado.
                    </span>
                </div>
                <div>
                    <a class="btn-cadastrar" href="./cadastro-instituicao.html"><span>SOU UMA INSTITUIÇÃO /</span> <span>PROTETOR INDEPENDENTE</span></a>
                    <a class="btn-cadastrar" href="http://petfinder.sytes.net:3000/cadastro-user">QUERO ADOTAR / AJUDAR</a>
                </div>
            </div>

        </div>
    <!-- </div> -->
    <!--  -->

    <!-- footer -->
    <div class="session-footer">
        <div class="container-session-footer">
            <div class="footer-social">
                <a href="#">
                    <img class="footer-instagram" src="./svg/instagram.svg" alt="" />
                </a>
                <a href="#">
                    <img class="footer-facebook" src="./svg/facebook.svg" alt="" />
                </a>
                <a href="#">
                    <img class="footer-twitter" src="./svg/twitter.svg" alt="" />
                </a>
            </div>
            <div class="footer-item">
                <a href="./index.html">Home</a>
                <a href="./contato.html">Contato</a>
                <a href="./feedback.html">Feedback</a>
                <a href="./cadastro.html">Cadastro</a>
            </div>
            <div class="footer-logo">
                <span class="footer-logo-nome">
                    <span class="logo-nome-verde">Pet</span>Finder &copy;2022
                </span>
            </div>
        </div>
    </div>
    <!-- footer -->
    
    <div vw class="enabled">
        <div vw-access-button class="active"></div>
        <div vw-plugin-wrapper>
          <div class="vw-plugin-top-wrapper"></div>
        </div>
      </div>
      <script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>
      <script>
        new window.VLibras.Widget('https://vlibras.gov.br/app');
      </script>

</body>

</html>

<script src="./js/script.js"></script>

<script>
    function novoVisitante() {
        
        let ultimoId;
        const dataAtual = new Date().toISOString();
        console.log(dataAtual.toString())

        fetch(`http://localhost:8080/usuarios/ultimo-visitante`, {
            method: "GET",
            headers: {"Content-type": "application/json; charset=UTF-8"}
        })
        .then(response => ultimoId = response, console.log(ultimoId))
        .catch(err => console.log(err));

        let data = {
            id: ultimoId++,
            dataVisita: dataAtual.toString()
        }

        fetch(`http://localhost:8080/usuarios/visitante`, {
            method: "POST",
            body: JSON.stringify(data),
            headers: {"Content-type": "application/json; charset=UTF-8"}
        })
        .then(response => response.json(), console.log(response)) 
        .catch(err => console.log(err));
    }
</script>